<!-- $PostgreSQL: pgsql/doc/src/sgml/installation.sgml,v 1.228 2005/01/17 02:29:23 petere Exp $ -->

<chapter id="installation">
 <title><![%standalone-include[<productname>PostgreSQL</>]]>
  Instruções de instalação</title>

 <indexterm zone="installation">
  <primary>instalação</primary>
 </indexterm>

 <para>
  Este <![%standalone-include;[documento]]> <![%standalone-ignore;[capítulo]]>
  descreve a instalação do <productname>PostgreSQL</productname> a partir do
  código fonte da distribuição (Se estiver sendo instalada uma distribuição
  pré-empacotada,como RPM ou um pacote Debian, este
  <![%standalone-include;[documento]]> <![%standalone-ignore;[capítulo]]>
  deve ser ignorado, e em seu lugar devem ser lidas as instruções do pacote).
 </para>

 <sect1 id="install-short">
  <title>Resumo da instalação</title>

  <para>
<synopsis>
./configure
gmake
su
gmake install
adduser postgres
mkdir /usr/local/pgsql/data
chown postgres /usr/local/pgsql/data
su - postgres
/usr/local/pgsql/bin/initdb -D /usr/local/pgsql/data
/usr/local/pgsql/bin/postmaster -D /usr/local/pgsql/data &gt;logfile 2&gt;&amp;1 &amp;
/usr/local/pgsql/bin/createdb test
/usr/local/pgsql/bin/psql test
</synopsis>
   A versão integral é o restante deste
   <![%standalone-include;[documento.]]> <![%standalone-ignore;[capítulo.]]>
  </para>
 </sect1>

 <sect1 id="install-requirements">
  <title>Requisitos</title>

  <para>
   De uma maneira geral, uma plataforma atual compatível com o Unix deve ser
   capaz de executar o <productname>PostgreSQL</productname>.
   Na <xref linkend="supported-platforms"> estão relacionadas as plataformas
   onde foram feitos testes específicos até o momento em que esta versão foi
   liberada. No subdiretório <filename class="directory">doc</filename> da
   distribuição do código fonte existem diversos documentos <acronym>FAQ</>
   específicos de plataforma, que podem ser consultados em caso de problema.
  </para>

  <para>
   São necessários os seguintes pacotes de software para construir o
   <productname>PostgreSQL</productname>:

   <itemizedlist>
    <listitem>
     <para>
      <indexterm>
       <primary>make</primary>
      </indexterm>

      É requerido o <application>make</application> do <acronym>GNU</acronym>;
      outros programas <application>make</application> <emphasis>não</emphasis>
      funcionam. O <application>make</application> do <acronym>GNU</acronym>
      está instalado geralmente sob o nome <application>gmake</application>;
      este documento sempre fará referência ao <application>make</application>
      do <acronym>GNU</acronym> utilizando este nome (Em alguns outros sistemas
      o <application>make</application> do <acronym>GNU</acronym> é a ferramenta
      padrão com o nome <application>make</application>
      <footnote>
       <para>
        No <systemitem class="osname">Fedora Core 3</systemitem> o
        <application>gmake</application> é um vínculo simbólico para o
        <application>make</application> (/usr/bin/gmake -&gt; make). (N. do T.)
       </para>
      </footnote>
      ). Para testar o <application>make</application> do <acronym>GNU</acronym>
      deve ser executado
<screen>
<userinput>gmake --version</userinput>

# No <systemitem class="osname">Fedora Core 3</systemitem> (N. do T.)

<userinput>make --version</userinput>

<computeroutput>
GNU Make 3.80
Copyright (C) 2002  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.
</computeroutput>
</screen>
      Recomenda-se a utilização da versão 3.76.1 ou mais recente.
     </para>
    </listitem>

    <listitem>
     <para>
      É necessário um compilador C <acronym>ISO</>/<acronym>ANSI</>.
      Recomenda-se as versões recentes do <productname>GCC</productname>, mas o
      <productname>PostgreSQL</productname> é conhecido por poder ser construído
      por uma grande variedade de compiladores de diferentes fornecedores.
     </para>
    </listitem>

    <listitem>
     <para>
      Antes de tudo é necessário o <application>gzip</application> para
      descompactar a distribuição.<![%standalone-include;[  Se estiver lendo
      isto, provavelmente você já superou este obtáculo.]]>
     </para>
    </listitem>

    <listitem>
     <para>
      <indexterm>
       <primary>readline</primary>
      </indexterm>

      A biblioteca <productname>Readline</productname> do <acronym>GNU</acronym>
      (para editar linhas confortavelmente e recuperar o histórico de comandos)
      é utilizada por padrão. Se não for desejado usá-la então é necessário
      especificar a opção <option>--without-readline</option> no
      <filename>configure</filename> (No <productname>NetBSD</productname>
      a biblioteca <filename>libedit</filename> é compatível com o
      <productname>Readline</productname>, sendo utilizada se
      <filename>libreadline</filename> não for encontrada).
      Se estiver sendo utilizada uma distribuição baseada no Linux, esteja
      ciente que é necessário tanto o pacote <literal>readline</> quanto o
      pacote <literal>readline-devel</>, caso sejam pacotes separados na
      distribuição sendo utilizada.
     </para>
    </listitem>

    <listitem>
     <para>
      <indexterm>
       <primary>instalação</primary>
       <secondary>no Windows</secondary>
      </indexterm>

      Para construir o <productname>PostgreSQL</productname> no
      <productname>Windows</>, é necessário software adicional.
      O <productname>PostgreSQL</productname> pode ser construído nas versões
      do <productname>Windows</> baseadas no <productname>NT</productname>,
      como o Windows 2000, XP ou 2003, utilizando o <productname>MinGW</>;
      para obter detalhes deve ser visto o arquivo <filename>doc/FAQ_MINGW</>
      na distribuição do código fonte. O <productname>PostgreSQL</productname>
      também pode ser construído utilizando o <productname>Cygwin</productname>;
      para obter detalhes deve ser visto o arquivo <filename>doc/FAQ_CYGWIN</>
      na distribuição do código fonte. As construções baseadas no
      <productname>Cygwin</productname> funcionam nas versões do
      <productname>Windows</productname> mais antigas mas, se houver
      possibilidade de escolha, recomenda-se utilizar o <productname>MinGW</>.
      Embora estes sejam os únicos conjuntos de ferramentas recomendados para
      uma construção completa, é possível construir apenas a biblioteca C
      cliente (<application>libpq</application>) e o terminal interativo
      (<application>psql</application>) utilizando outros conjuntos de
      ferramentas do <productname>Windows</>. Para obter detalhes deve ser visto
      <![%standalone-include[o capítulo "Instalação apenas do cliente no
      Windows" na documentação.]]>
      <![%standalone-ignore[o <xref linkend="install-win32">.]]>
     </para>
    </listitem>
   </itemizedlist>
  </para>

  <para>
   Os pacotes a seguir são opcionais. Embora não sejam requeridos pela
   configuração padrão, são necessários quando certas opções de construção
   são habilitadas, conforme explicado abaixo.

   <itemizedlist>
    <listitem>
     <para>
      Para construir a linguagem de programação do servidor
      <application>PL/Perl</application> é necessária uma instalação completa
      do <productname>Perl</productname>, incluindo a biblioteca
      <filename>libperl</filename> e os arquivos de cabeçalho.
      Uma vez que o <application>PL/Perl</application> será uma biblioteca
      compartilhada, a biblioteca
      <indexterm><primary>libperl</primary></indexterm>
      <filename>libperl</filename> também deve ser uma biblioteca compartilhada
      na maioria das plataformas. Isto parece ser o padrão nas versões recentes
      do <productname>Perl</productname>, mas não era nas versões mais antigas
      e, de qualquer maneira, foi uma escolha de quem instalou o Perl no sistema.
     </para>

     <para>
      Se não houver a biblioteca compartilhada, mas esta for necessária, uma
      mensagem como a mostrada abaixo será exibida durante a construção para
      chamar atenção sobre este fato:
<screen>
<computeroutput>
*** Cannot build PL/Perl because libperl is not a shared library.
*** You might have to rebuild your Perl installation.  Refer to
*** the documentation for details.
</computeroutput>
</screen>
      (Se a saída na tela não for acompanhada, apenas será observado
      que a biblioteca objeto <application>PL/Perl</application>,
      <filename>plperl.so</filename> ou semelhante, não foi instalada). Se esta
      mensagem for vista, será necessário reconstruir e instalar o
      <productname>Perl</productname> manualmente para poder construir o
      <application>PL/Perl</application>. Durante o processo de configuração do
      <productname>Perl</productname> deve ser requerida a geração da biblioteca
      compartilhada.
     </para>
    </listitem>

    <listitem>
     <para>
      Para construir a linguagem de programação do servidor
      <application>PL/Python</application> é necessária a instalação do
      <productname>Python</productname>, incluindo os arquivos de cabeçalho e o
      módulo <application>distutils</application>.
      O módulo <application>distutils</application> é incluído por padrão pelo
      <productname>Python</productname> 1.6 e posteriores; os usuários das
      versões mais antigas do <productname>Python</productname> terão que
      instalá-lo.
     </para>

     <para>
      Uma vez que o <application>PL/Python</application> será uma biblioteca
      compartilhada, a biblioteca
      <indexterm><primary>libpython</primary></indexterm>
      <filename>libpython</filename> também deve ser uma biblioteca
      compartilhada na maioria das plataformas. Este não é o caso em uma
      instalação padrão do <productname>Python</productname>.
      Se após a construção e instalação houver um arquivo chamado
      <filename>plpython.so</filename> (possivelmente com uma extensão
      diferente), então tudo correu bem. Senão, deve ter sido
      exibida uma mensagem como esta na tela:
<screen>
<computeroutput>
*** Cannot build PL/Python because libpython is not a shared library.
*** You might have to rebuild your Python installation.  Refer to
*** the documentation for details.
</computeroutput>
</screen>
      Isto significa que é necessário reconstruir (parte) da instalação do
      <productname>Python</productname>, para ser gerada a biblioteca
      compartilhada.
     </para>

     <para>
      Caso ocorram problemas, deve ser executada a configuração do
      <productname>Python</> 2.3, ou mais recente, utilizando o sinalizador
      <literal>--enable-shared</>. Em alguns sistemas operacionais não é
      necessário construir a biblioteca compartilhada, mas é necessário
      convencer o construtor do sistema <productname>PostgreSQL</productname>
      disso. Para obter detalhes deve ser consultado o arquivo
      <filename>Makefile</filename> no diretório
      <filename class="directory">src/pl/plpython</filename>.
     </para>
    </listitem>

    <listitem>
     <para>
      Se for desejado construir a linguagem procedural <application>PL/Tcl</>,
      obviamente é necessário instalar o Tcl.
     </para>
    </listitem>

    <listitem>
     <para>
      Para habilitar o Suporte ao Idioma Nativo (<literal>Native Language
      Support</literal> - <acronym>NLS</acronym>), ou seja, a capacidade de
      mostrar as mensagens do programa em um idioma diferente do Inglês,
      é necessária a implementação da <acronym>API</> <application>Gettext</>.
      Alguns sistemas operacionais a possuem nativamente (por exemplo,
      <systemitem class="osname">Linux</systemitem>,
      <systemitem class="osname">NetBSD</systemitem> e
      <systemitem class="osname">Solaris</systemitem>), para outros sistemas
      pode ser baixado um pacote adicional de
      <ulink url="http://developer.postgresql.org/~petere/bsd-gettext/"></ulink>.
      Se estiver sendo utilizada a implementação do <application>Gettext</>
      da biblioteca C <acronym>GNU</acronym>, então há a necessidade adicional
      do pacote <productname>GNU Gettext</productname> por alguns programas
      utilitários. Para nenhuma outra implementação isto é necessário.
     </para>
    </listitem>

    <listitem>
     <para>
      <application>Kerberos</application>, <application>OpenSSL</application>
      ou <application>PAM</application>, se for desejado permitir autenticação
      ou criptografia utilizando um destes serviços.
     </para>
    </listitem>
   </itemizedlist>
  </para>

  <para>
   Se a construção estiver sendo feita a partir da árvore do <acronym>CVS</>
   em vez do pacote fonte liberado, ou se for desejado fazer desenvolvimento,
   também são necessários os seguintes pacotes:

   <itemizedlist>
    <listitem>
     <para>
      <indexterm>
       <primary>flex</primary>
      </indexterm>
      <indexterm>
       <primary>bison</primary>
      </indexterm>
      <indexterm>
       <primary>yacc</primary>
      </indexterm>

      O <application>Flex</application> e o <application>Bison</application> do
      GNU são necessários para construir a saída (<literal>checkout</literal>)
      do CVS, ou se forem alterados os arquivos de definição do varredor e do
      analisador existentes. Se forem  necessários, certifique-se de trazer o
      <application>Flex 2.5.4</application> ou mais recente, e o
      <application>Bison 1.875</application> ou mais recente. Outros programas
      <application>yacc</application> podem, às vezes, serem utilizados, mas
      para se fazer isto é necessário um trabalho extra, e não é recomendado.
      Outros programas <application>lex</application> com certeza não funcionam.
     </para>
    </listitem>
   </itemizedlist>
  </para>

  <para>
   Se for necessário obter um pacote <acronym>GNU</acronym>, este pode ser
   encontrado em um espelho do <acronym>GNU</acronym> (veja a relação em
   <ulink url="http://www.gnu.org/order/ftp.html"></ulink>)
   ou em <ulink url="ftp://ftp.gnu.org/gnu/"></ulink>.
  </para>

  <para>
   Verifique, também, se há espaço suficiente no disco. São necessários cerca de
   65 MB para a árvore de fontes durante a compilação, e cerca de 15 MB para o
   diretório de instalação. Um agrupamento de banco de dados vazio ocupa cerca
   de 25 MB, e os bancos de dados ocupam cerca de cinco vezes a quantidade de
   espaço ocupada pelos arquivos texto puro contendo os mesmos dados. Se forem
   executados os testes de regressão serão necessários, temporariamente, mais
   90 MB. Para verificar o espaço em disco deve ser utilizado o comando
   <command>df</command>.
  </para>
 </sect1>

<![%standalone-ignore;[
 <sect1 id="install-getsource">
  <title>Obtenção dos arquivos fonte</title>

  <para>
   Os fontes do <productname>PostgreSQL</> &version; podem ser obtidos por
   FTP anônimo a partir de
   <ulink url="ftp://ftp.postgresql.org/pub/source"></ulink>.
   Se for possível, deve ser utilizado um espelho.
   Após obter o arquivo, este deve ser descompactado:
<screen>
<userinput>gunzip postgresql-&version;.tar.gz</userinput>
<userinput>tar xf postgresql-&version;.tar</userinput>
</screen>
   Este procedimento cria o diretório
   <filename class="directory">postgresql-&version;</filename>, sob o diretório
   corrente, contendo os fontes do <productname>PostgreSQL</productname>.
   Este diretório deve ser tornado o diretório corrente para efetuar o restante
   do procedimento de instalação.
  </para>
 </sect1>
]]>

 <sect1 id="install-upgrading">
  <title>Se estiver atualizando</title>

  <indexterm zone="install-upgrading">
   <primary>atualização</primary>
  </indexterm>

  <para>
   O formato interno de armazenamento dos dados muda com as novas versões do
   <productname>PostgreSQL</productname>. Portanto, se estiver sendo feita a
   atualização de uma instalação existente, que não possua um número de versão
   <quote>&majorversion;.x</quote>, é necessário fazer uma cópia de segurança e
   restaurar os dados conforme mostrado. Estas instruções assumem que a
   instalação existente se encontra sob o diretório
   <filename class="directory">/usr/local/pgsql</filename>,
   e que a área de dados está no diretório
   <filename class="directory">/usr/local/pgsql/data</filename>.
   Os caminhos devem ser modificados conforme seja apropriado.
  </para>

  <procedure>
   <step>
    <para>
     Certifique-se que o banco de dados não seja atualizado durante ou após a
     realização da cópia de segurança. Isto não afeta a integridade da cópia de
     segurança, mas os dados modificados, obviamente, não serão incluídos.
     Se for necessário, devem ser editadas as permissões no arquivo
     <filename>/usr/local/pgsql/data/pg_hba.conf</filename>, ou equivalente,
     para não permitir acesso pelos demais usuários.
    </para>
   </step>

   <step>
    <para>
     <indexterm>
      <primary>programa pg_dumpall</primary>
      <secondary>utilização durante a atualização</secondary>
     </indexterm>

     Para realizar a cópia de segurança da instalação de banco de dados deve-se
     executar:
<screen>
<userinput>pg_dumpall &gt; <replaceable>arquivo_de_saída</></userinput>
</screen>
     Se for necessário preservar os OIDs (como quando são utilizados como chaves
     estrangeiras), então deve ser utilizada a opção <option>-o</option>
     ao se executar o <application>pg_dumpall</application>.
    </para>

    <para>
     O <command>pg_dumpall</command> não salva os objetos grandes.
     Se for necessário salvá-los, deve ser consultada a
     <![%standalone-include;[documentação.]]>
     <![%standalone-ignore;[<xref linkend="backup-dump-caveats">.]]>
    </para>

    <para>
     Para fazer a cópia de segurança, pode ser utilizado o utilitário
     <application>pg_dumpall</application> da versão sendo usada atualmente.
     Entretanto, para obter melhores resultados, deve-se tentar utilizar o
     utilitário <application>pg_dumpall</application> do
     <productname>PostgreSQL &version;</productname>, uma vez que esta versão
     contém correções de erros e melhorias com relação às versões mais antigas.
     Embora este conselho possa parecer sem sentido, uma vez que a nova versão
     ainda não foi instalada, é aconselhável segui-lo se estiver sendo planejado
     instalar a nova versão em paralelo com a versão antiga.  Neste caso pode-se
     completar a instalação normalmente, e transferir os dados depois. Isto
     também pode diminuir o tempo de máquina parada.
    </para>
   </step>

   <step>
    <para>
     Se a nova versão estiver sendo instalada no mesmo local da versão antiga,
     então o servidor antigo deve ser parado antes de instalar os novos
     arquivos:
<screen>
<userinput>pg_ctl stop</>
</screen>
     Nos sistemas onde o <productname>PostgreSQL</> é ativado quando a máquina
     é ligada, provavelmente existe um arquivo de inicialização para obter o
     mesmo resultado. Por exemplo, no sistema operacional
     <systemitem class="osname">Red Hat Linux</> pode-se verificar que
<screen>
<userinput>/etc/rc.d/init.d/postgresql stop</userinput>
</screen>
     funciona.
    </para>

    <para>
     As versões muito antigas podem não ter o utilitário <application>pg_ctl</>.
     Se este não puder ser encontrado, ou se não funcionar, o ID de processo do
     servidor antigo deve ser descoberto utilizando, por exemplo,
<screen>
<userinput>ps ax | grep postmaster</userinput>
</screen>
     e depois ser enviado um sinal para parar o processo servidor desta forma:
<screen>
<userinput>kill -INT <replaceable>ID_processo</></userinput>
</screen>
    </para>
   </step>

   <step>
    <para>
     Se estiver sendo feita a instalação no mesmo local da versão antiga, então
     também é uma boa idéia mudar de lugar a instalação antiga, para o caso de
     haver problema e ser necessário voltar atrás.
     Deve ser usado um comando como este:
<screen>
<userinput>mv /usr/local/pgsql /usr/local/pgsql.antigo</>
</screen>
    </para>
   </step>
  </procedure>

  <para>
   Após ter sido feita a instalação do <productname>PostgreSQL &version;</>,
   deve ser criado o novo diretório de banco de dados e ativado o novo servidor.
   Lembre-se que é necessário executar estes comandos através de uma conta
   especial de usuário do banco de dados (que já existe se estiver sendo feita
   uma atualização).
<programlisting>
<userinput>/usr/local/pgsql/bin/initdb -D /usr/local/pgsql/data</>
<userinput>/usr/local/pgsql/bin/postmaster -D /usr/local/pgsql/data</>
</programlisting>
   Por fim, os dados são restaurados pelo comando
<screen>
<userinput>/usr/local/pgsql/bin/psql -d template1 -f <replaceable>arquivo_de_saída</></userinput>
</screen>
   usando o <emphasis>novo</emphasis> <application>psql</application>.
  </para>

  <para>
   Estes tópicos são mostrados na
   <![%standalone-include;[documentação,]]>
   <![%standalone-ignore;[<xref linkend="migration">,]]>
   que incentivamos sua leitura em todos os casos.
  </para>
 </sect1>


 <sect1 id="install-procedure">
  <title>Procedimento de instalação</title>

  <procedure>

  <step id="configure">
   <title>Configuração:</title>

   <indexterm zone="configure">
    <primary>configuração</primary>
   </indexterm>

   <para>
    O primeiro passo do procedimento de instalação é configurar a árvore
    de fontes do sistema a ser construído, e escolher as opções desejadas.
    Isto é feito executando o script <filename>configure</filename>.
    Para uma instalação padrão deve-se simplesmente executar:
<screen>
<userinput>./configure</userinput>
</screen>
    Este script executa vários testes para obter valores para diversas variáveis
    dependentes do sistema e detectar comportamentos adversos do sistema
    operacional e, finalmente, cria vários arquivos na árvore de construção
    para registrar o que foi encontrado (O <filename>configure</filename> também
    pode ser executado em um diretório fora da árvore de fontes, se for
    desejado manter o diretório de construção em separado).
   </para>

   <para>
    A configuração padrão constrói o servidor e os utilitários, assim como todos
    os aplicativos cliente e interfaces que requerem somente o compilador C.
    Todos os arquivos são instalados sob
    <filename>/usr/local/pgsql</filename> por padrão.
   </para>

   <para>
    O processo de construção e instalação pode ser personalizado fornecendo uma
    ou mais das seguintes opções de linha de comando para o
    <filename>configure</filename>:

     <variablelist>
      <varlistentry>
       <term><option>--prefix=<replaceable>PREFIXO</></option></term>
       <listitem>
        <para>
         Instala todos os arquivos sob o diretório <replaceable>PREFIXO</>
         em vez de <filename>/usr/local/pgsql</filename>. Os arquivos são
         instalados em vários subdiretórios; nenhum arquivo é instalado
         diretamente no diretório <replaceable>PREFIXO</replaceable>.
        </para>

        <para>
         Havendo necessidades especiais, os subdiretórios podem ser
         personalizados individualmente através das opções que se seguem.
         Entretanto, se forem deixados com o valor padrão, a instalação será
         movível, significando que o diretório poderá ser movido para outro
         local após a instalação (Os locais <literal>man</> e <literal>doc</>
         não são afetados por este procedimento).
        </para>

        <para>
         Para as instalações movíveis, é necessário utilizar a opção
         <literal>--disable-rpath</> do <filename>configure</filename>.
         Também é necessário informar ao sistema operacional como encontrar
         as bibliotecas compartilhadas.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--exec-prefix=<replaceable>EXEC-PREFIXO</></option></term>
       <listitem>
        <para>
         Os arquivos dependentes da arquitetura podem ser instalados sob um
         prefixo diferente (<replaceable>EXEC-PREFIXO</replaceable>) do que foi
         definido em <replaceable>PREFIXO</replaceable>, o que pode ser útil
         para compartilhar entre hospedeiros arquivos não dependentes de
         arquitetura. Se for omitido, então <replaceable>EXEC-PREFIXO</> é
         definido igual a <replaceable>PREFIXO</replaceable>, e tanto os
         arquivos dependentes da arquitetura quanto os que não dependem da
         arquitetura são instalados sob a mesma árvore, que provavelmente é o
         que se deseja.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--bindir=<replaceable>DIRETÓRIO</></option></term>
       <listitem>
        <para>
         Especifica o diretório dos programas executáveis. O padrão é
         <filename><replaceable>EXEC-PREFIXO</replaceable>/bin</filename>, o que
         normalmente corresponde a <filename>/usr/local/pgsql/bin</filename>.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--datadir=<replaceable>DIRETÓRIO</></option></term>
       <listitem>
        <para>
         Define o diretório dos arquivos somente para leitura utilizados pelos
         programas instalados. O padrão é
         <filename><replaceable>PREFIXO</replaceable>/share</filename>.
         Deve ser observado que isto não tem nada a ver com o local onde os
         arquivos do banco de dados serão colocados.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--sysconfdir=<replaceable>DIRETÓRIO</></option></term>
       <listitem>
        <para>
         O diretório de vários arquivos de configuração. O padrão é
         <filename><replaceable>PREFIXO</replaceable>/etc</filename>.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--libdir=<replaceable>DIRETÓRIO</></option></term>
       <listitem>
        <para>
         O local para instalar as bibliotecas e os módulos carregáveis
         dinamicamente. O padrão é
         <filename><replaceable>EXEC-PREFIXO</replaceable>/lib</filename>.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--includedir=<replaceable>DIRETÓRIO</></option></term>
       <listitem>
        <para>
         O diretório para instalar os arquivos de cabeçalho das linguagens C e
         C++. O padrão é
         <filename><replaceable>PREFIXO</replaceable>/include</filename>.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--mandir=<replaceable>DIRETÓRIO</></option></term>
       <listitem>
        <para>
         As páginas de manual (<literal>man pages</literal>) que acompanham o
         <productname>PostgreSQL</productname> são instaladas sob este
         diretório, nos respectivos subdiretórios
         <filename class="directory">man<replaceable>x</replaceable></filename>.
         O padrão é <filename><replaceable>PREFIXO</replaceable>/man</filename>.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-docdir=<replaceable>DIRETÓRIO</></option></term>
       <term><option>--without-docdir</option></term>
       <listitem>
        <para>
         Os arquivos da documentação, exceto as <quote>man pages</quote>, são
         instalados neste diretório. O padrão é
         <filename><replaceable>PREFIXO</replaceable>/doc</filename>.
         Se for especificada a opção <option>--without-docdir</option>, a
         documentação não será instalada por <command>make install</command>.
         Isto tem por finalidade atender scripts de empacotamento que possuem
         métodos especiais para instalar a documentação.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>

     <note>
      <para>
       Tomou-se cuidado para tornar possível a instalação do
       <productname>PostgreSQL</productname> em locais de instalação
       compartilhados (tal como <filename>/usr/local/include</filename>) sem
       interferir com o espaço de nomes do restante do sistema. Primeiro,
       é anexada automaticamente a cadeia de caracteres
       <quote><literal>/postgresql</literal></quote> a
       <varname>datadir</varname>, <varname>sysconfdir</varname> e
       <varname>docdir</varname>, a menos que o nome do diretório inteiramente
       expandido contenha a cadeia de caracteres
       <quote><literal>postgres</literal></quote> ou
       <quote><literal>pgsql</literal></quote>. Por exemplo, se for escolhido
       <filename>/usr/local</filename> como prefixo, a documentação será
       instalada em <filename>/usr/local/doc/postgresql</filename>, mas se o
       prefixo for <filename>/opt/postgres</filename>, então será instalada em
       <filename>/opt/postgres/doc</filename>. Os arquivos de cabeçalho C
       públicos das interfaces cliente são instalados em
       <varname>includedir</varname> e são livres de espaço de nomes. Os
       arquivos de cabeçalho internos e os arquivos de cabeçalho do servidor são
       instalados em diretórios privativos sob <varname>includedir</varname>.
       Deve ser vista a documentação de cada interface para obter informações
       sobre como encontrar seus respectivos arquivos de cabeçalho.
       Finalmente, também é criado um subdiretório privativo, se for apropriado,
       sob <varname>libdir</varname>, para os módulos carregáveis dinamicamente.
      </para>
     </note>
    </para>

    <para>
     <variablelist>
      <varlistentry>
       <term><option>--with-includes=<replaceable>DIRETÓRIOS</></option></term>
       <listitem>
        <para>
         <replaceable>DIRETÓRIOS</replaceable> é uma lista de diretórios,
         separados por dois-pontos (<literal>:</literal>), a ser adicionada à
         lista usada pelo compilador para procurar por arquivos de cabeçalho.
         Havendo pacotes opcionais (como o <application>Readline</application>
         do GNU), instalados em locais diferente do padrão, esta opção deve ser
         utilizada e, provavelmente, também a opção
         <option>--with-libraries</option> correspondente.
        </para>
        <para>
         Exemplo: <literal>--with-includes=/opt/gnu/include:/usr/sup/include</>.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-libraries=<replaceable>DIRETÓRIOS</></option></term>
       <listitem>
        <para>
         <replaceable>DIRETÓRIOS</replaceable> é uma lista de diretórios,
         separados por dois-pontos (<literal>:</literal>), para procurar pelas
         bibliotecas. Provavelmente será necessário utilizar esta opção
         (e a opção <option>--with-includes</> correspondente), se existirem
         pacotes instalados em locais que não são o local padrão.
        </para>
        <para>
         Exemplo: <literal>--with-libraries=/opt/gnu/lib:/usr/sup/lib</>.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--enable-nls<optional>=<replaceable>IDIOMAS</replaceable></optional></option></term>
       <listitem>
        <para>
         Habilita o Suporte ao Idioma Nativo (<literal>Native Language
         Support</literal> - <acronym>NLS</acronym>), ou seja, a capacidade de
         mostrar as mensagens do programa em um idioma diferente do Inglês.
         <replaceable>IDIOMAS</replaceable> é uma lista de códigos de
         idioma, separados por espaço, a serem suportados, como, por
         exemplo, <literal>--enable-nls='de fr'</literal> (A interseção entre a
         lista especificada e o conjunto de traduções disponíveis atualmente
         <footnote>
          <para>
           Traduções disponíveis atualmente &mdash;
           AVAIL_LANGUAGES := af cs de es fr hr hu it ko nb pt_BR ro ru sk
           sl sv tr zh_CN zh_TW (N. do T.)
          </para>
         </footnote>
         é computada automaticamente). Se esta lista não for especificada,
         então são instaladas todas as traduções disponíveis.
         <footnote>
          <para>
           A configuração padrão é sem suporte ao idioma nativo, portanto,
           se este parâmetro não for especificado, não será possível ver as
           mensagens em português (N. do T.).
          </para>
         </footnote>
        </para>

        <para>
         Para utilizar esta opção é necessária a implementação da
         API <application>Gettext</application>; veja acima.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-pgport=<replaceable>NÚMERO</></option></term>
       <listitem>
        <para>
         Define <replaceable>NÚMERO</replaceable> como o número padrão da porta
         para o servidor e para os clientes. O valor padrão é
         <ulink url="http://www.iana.org/assignments/port-numbers">5432</ulink>.
         O número da porta pode ser mudado posteriormente, mas se for
         especificado aqui então tanto o servidor quanto os clientes terão o
         mesmo padrão de compilação, o que pode ser bastante conveniente.
         Geralmente o único bom motivo para escolher um valor diferente do
         padrão é quando são executados vários servidores
         <productname>PostgreSQL</productname> na mesma máquina.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-perl</option></term>
       <listitem>
        <para>
         Construir a linguagem <application>PL/Perl</> do lado servidor.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-python</option></term>
       <listitem>
        <para>
         Construir a linguagem <application>PL/Python</> do lado servidor.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-tcl</option></term>
       <listitem>
        <para>
         Construir a linguagem <application>PL/Tcl</> do lado servidor.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-tclconfig=<replaceable>DIRETÓRIO</replaceable></option></term>
       <listitem>
        <para>
         Tcl instala o arquivo <filename>tclConfig.sh</filename>, que
         contém as informações de configuração necessárias para construir os
         módulos que interfaceiam com o Tcl. Normalmente este arquivo é
         encontrado automaticamente em um local bem-conhecido, mas se for
         desejado utilizar uma versão diferente do Tcl, pode ser especificado o
         diretório onde esta versão se encontra.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-krb4</option></term>
       <term><option>--with-krb5</option></term>
       <listitem>
        <para>
         Constrói o suporte para autenticação Kerberos. Pode ser utilizado o
         Kerberos versão 4 ou 5, mas não os dois. Em muitos sistemas
         operacionais o Kerberos não é instalado no local onde é procurado por
         padrão (por exemplo, <filename>/usr/include</>, <filename>/usr/lib</>),
         portanto é necessário utilizar as opções <option>--with-includes</> e
         <option>--with-libraries</>, além desta opção.
         Antes de prosseguir, o <filename>configure</filename> verifica os
         arquivos de cabeçalho e bibliotecas requeridos para ter certeza que a
         instalação do Kerberos está adequada.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-krb-srvnam=<replaceable>NOME</></option></term>
       <listitem>
        <para>
         O nome do principal do serviço Kerberos.
         O valor padrão é <literal>postgres</literal>.
         Provavelmente não existe razão para que seja mudado.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <indexterm>
        <primary>OpenSSL</primary>
        <seealso>SSL</seealso>
       </indexterm>

       <term><option>--with-openssl</option></term>
       <listitem>
        <para>
         Construir o suporte às conexões <acronym>SSL</> (criptografadas).
         Requer a instalação do pacote <productname>OpenSSL</productname>.
         Antes de prosseguir, o <filename>configure</filename> verifica os
         arquivos de cabeçalho e bibliotecas requeridos para ter certeza que a
         instalação do <productname>OpenSSL</> está adequada.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-pam</option></term>
       <listitem>
        <para>
         Constrói o suporte a <acronym>PAM</acronym>
         <indexterm><primary>PAM</primary></indexterm>
         (Módulos de Autenticação Conectáveis/<literal>Pluggable Authentication Modules</literal>).
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--without-readline</option></term>
       <listitem>
        <para>
         Impede a utilização da biblioteca <application>Readline</application>.
         Desabilita o histórico e a edição de linha de comando no
         <application>psql</application> e, portanto, não é recomendado.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--with-rendezvous</option></term>
       <listitem>
        <para>
         Constrói o suporte a <literal>Rendezvous</literal>.
         Requer suporte a <literal>Rendezvous</literal> pelo sistema
         operacional. Recomendado para o Mac OS X.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--disable-spinlocks</option></term>
       <listitem>
        <para>
         Permite a construção ser bem sucedida, mesmo que nesta plataforma o
         <productname>PostgreSQL</> não tenha suporte de <literal>spinlock</>
         <footnote>
          <para>
           <literal>spinlock</literal> &mdash; em engenharia de software é um
           bloqueio onde cada fluxo de execução (<literal>thread</literal>)
           simplesmente aguarda em um laço (gira/<literal>spins</literal>)
           verificando repetidamente até que o bloqueio fique disponível.
           <ulink url="http://encyclopedia.thefreedictionary.com/Spin%20lock">
           Free Online Dictionary and Thesaurus</ulink> (N. do T.)
          </para>
         </footnote>
         na CPU. A falta de suporte de <literal>spinlock</>
         ocasiona um desempenho pobre; portanto, esta opção deve ser utilizada
         somente se a construção interromper informando que não há suporte a
         <literal>spinlock</literal> nesta plataforma.
         Se esta opção for requerida para construir o <productname>PostgreSQL</>
         na plataforma sendo utilizada, por favor informe este problema aos
         desenvolvedores do <productname>PostgreSQL</>.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--enable-thread-safety</option></term>
       <listitem>
        <para>
         Construir as bibliotecas cliente <literal>thread-safe</literal>.
         <footnote>
          <para>
           <literal>thread-safe</literal> &mdash;
           (programação) A descrição de um código que é reentrante ou protegido
           em várias execuções simultâneas por alguma forma de exclusão mútua.
           <ulink url="http://wombat.doc.ic.ac.uk/foldoc/foldoc.cgi?query=thread-safe">
           FOLDOC - Free On-Line Dictionary of Computing</ulink> (N. do T.)
          </para>
         </footnote>
         Isto permite às <literal>threads</literal> simultâneas nos programas
         <application>libpq</application> e <application>ECPG</application>
         controlarem com segurança seus tratadores de conexão privativos.
         Esta opção requer suporte a <literal>thread</literal> adequado por
         parte do sistema operacional.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--without-zlib</option></term>
       <listitem>
        <para>
         <indexterm>
          <primary>zlib</primary>
         </indexterm>
         Não permite o uso da biblioteca <application>Zlib</application>. Esta
         opção desabilita o suporte a arquivos comprimidos por parte do
         <application>pg_dump</application>. Esta opção se destina apenas
         àqueles raros sistemas onde esta biblioteca não está disponível.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--enable-debug</option></term>
       <listitem>
        <para>
         Compila todos os programas e bibliotecas com símbolos de depuração.
         Isto significa que os programas podem ser executados através do
         depurador para analisar problemas. Também aumenta consideravelmente o
         tamanho dos executáveis instalados e, em compiladores não-GCC,
         geralmente desabilita também a otimização feita pelo compilador,
         tornando a execução mais lenta. Entretanto, ter os símbolos disponíveis
         é extremamente útil para lidar com qualquer problema que possa
         aparecer. Atualmente, esta opção é recomendada para instalações de
         produção somente se for utilizado o GCC. Mas esta opção deve estar
         sempre habilitada ao se realizar trabalho de desenvolvimento,
         ou ao executar uma versão beta.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--enable-cassert</option></term>
       <listitem>
        <para>
         Habilita a verificação das <firstterm>asserções</firstterm>
         <footnote>
          <para>
           asserção &mdash; do Lat. assertione &mdash;
           proposição que se apresenta como verdadeira.
           <ulink url="http://www.priberam.pt/dlpo/dlpo.aspx">PRIBERAM -
           Língua Portuguesa On-Line</ulink>. (N. do T.)
          </para>
         </footnote>
         no servidor, que testa muitas condições que
         <quote>não podem acontecer</quote>. É muito útil para fins
         de desenvolvimento de código, mas os testes tornam a execução um pouco
         mais lenta. Porém, ter os testes ativos não aumenta a estabilidade do
         servidor necessariamente! As verificações de asserção não são
         categorizadas por severidade e, portanto, um erro que pode ser
         relativamente inofensivo, faz com que o servidor seja reiniciado se
         for disparada uma falha de asserção. Atualmente esta opção não é
         recomendada para uso em produção, mas deve ser utilizada ao se realizar
         trabalho de desenvolvimento ou ao executar uma versão beta.
        </para>
       </listitem>
      </varlistentry>

      <varlistentry>
       <term><option>--enable-depend</option></term>
       <listitem>
        <para>
         Habilita o acompanhamento automático das dependências. Com esta opção,
         a construção é configurada de forma que todos os arquivos objeto
         afetados são reconstruídos quando qualquer arquivo de cabeçalho é
         modificado. É útil ao se realizar trabalho de desenvolvimento, mas é
         apenas um desperdício de trabalho quando o que se pretende é compilar
         uma vez e instalar. Atualmente esta opção funciona apenas quando é
         utilizado o GCC.
        </para>
       </listitem>
      </varlistentry>

     </variablelist>
    </para>

    <para>
     Se for preferido utilizar um compilador C diferente do escolhido pelo
     <filename>configure</filename>, pode ser definida a
     variável de ambiente <envar>CC</envar> com o programa preferido.
     Por padrão, o <filename>configure</filename> escolhe o
     <filename>gcc</filename> se este estiver disponível, senão o padrão da
     plataforma (geralmente <filename>cc</>). De forma semelhante, os
     sinalizadores de compilação podem ser modificados através da variável
     <envar>CFLAGS</envar>.
    </para>

    <para>
     As variáveis de ambiente podem ser especificadas na linha de comando do
     <filename>configure</filename> como, por exemplo:
<screen>
<userinput>./configure CC=/opt/bin/gcc CFLAGS='-O2 -pipe'</>
</screen>
    </para>
   </step>

  <step>
   <title>Construção:</title>

   <para>
    Para iniciar a construção, deve ser executado
<screen>
<userinput>gmake</userinput>
</screen>
    (Lembre-se de usar o <application>make</application> do <acronym>GNU</>)
    A construção pode levar de 5 minutos a meia hora, dependendo da máquina.
    A última linha exibida deve ser:
<screen>
<computeroutput>
All of PostgreSQL is successfully made. Ready to install.
</computeroutput>
</screen>
   </para>
  </step>

  <step>
   <title>Testes de regressão:</title>

   <indexterm>
    <primary>teste de regressão</primary>
   </indexterm>

   <para>
    Se for desejado testar o servidor recém construído antes de fazer a
    instalação, podem ser executados os testes de regressão neste ponto. Os
    testes de regressão são um conjunto de testes que verificam se o
    <productname>PostgreSQL</productname> processa na máquina onde os testes são
    realizados, da maneira como os desenvolvedores esperam que processe.
    Deve ser executado
<screen>
<userinput>gmake check</userinput>
</screen>
    (Não funciona sob o usuário <literal>root</literal>; deve ser executado sob
    um usuário sem privilégios)
    <![%standalone-include;[O arquivo
    <filename>src/test/regress/README</filename> e a
    documentação contém]]>
    <![%standalone-ignore;[O <xref linkend="regress"> contém]]>
    informações detalhadas sobre como interpretar os resultados dos testes.
    Posteriormente, este teste poderá ser repetido a qualquer momento executando
    o mesmo comando.
   </para>
  </step>

  <step id="install">
   <title>Instalação dos arquivos:</title>

   <note>
    <para>
     Se estiver sendo feita a atualização de um sistema existente, e os
     novos arquivos vão ser instalados por cima dos antigos, então deve
     ser feita uma cópia de segurança dos dados e parado o servidor antigo
     agora, conforme explicado na <xref linkend="install-upgrading"> acima.
    </para>
   </note>

   <para>
    Para instalar o <productname>PostgreSQL</productname>, deve ser executado:
<screen>
<userinput>gmake install</userinput>
</screen>
    Este comando instala os arquivos nos diretórios especificados no
    <xref linkend="configure">. Deve haver certeza que se possui as permissões
    apropriadas para escrever nesta área. Normalmente, é necessário executar
    este passo sob o usuário <literal>root</literal>. Como alternativa,
    podem ser previamente criados os diretórios de destino e conseguido que
    sejam concedidas as permissões apropriadas.
   </para>

   <para>
    Pode ser utilizado <literal>gmake install-strip</literal>, em vez de
    <literal>gmake install</literal>, para executar o <literal>strip</literal>
    <footnote>
     <para>
      <literal>strip</literal> &mdash; (comando do Unix)
       O comando <literal>strip</literal> remove a tabela de símbolos,
       informação de depuração e informação de número de linha de arquivos
       objeto ELF. Após ter sido realizado o processo de <literal>strip</>, não
       haverá nenhum acesso de depuração simbólica para este arquivo;
       normalmente este comando só é executado em módulos de produção que já
       foram depurados e testados.
       <ulink url="http://www.cs.princeton.edu/cgi-bin/man2html?strip:1">
       Man Page</ulink> (N. do T.)
      </para>
    </footnote>
    nos arquivos executáveis e bibliotecas durante a instalação. Isto reduz um
    pouco o espaço necessário. Se a construção tiver sido feita com suporte a
    depuração, fará com que o suporte a depuração seja removido e, portanto,
    somente deve ser usado quando a depuração não for mais necessária.
    O <literal>install-strip</literal> tenta executar um bom trabalho de redução
    de espaço, mas não possui um conhecimento perfeito de como retirar todo byte
    desnecessário de um arquivo executável, portanto, se for desejado reduzir o
    espaço ocupado em disco ao máximo, deverá ser realizado um trabalho manual.
   </para>

   <para>
    A instalação padrão disponibiliza todos os arquivos de cabeçalho necessários
    para desenvolvimento de aplicativos cliente, assim como desenvolvimento de
    programas para o lado servidor, como funções personalizadas ou tipos de dado
    escritos em C
    (Antes do <productname>PostgreSQL</> 8.0, era necessário executar o comando
    a parte <literal>gmake install-all-headers</> para desenvolvimento de
    programas para o lado servidor, mas este passo foi incorporado à instalação
    padrão).
   </para>

   <formalpara>
    <title>Instalação somente do lado cliente:</title>
    <para>
     Se for desejado instalar apenas os aplicativos cliente e as
     bibliotecas de interface, então podem ser utilizados os seguintes comandos:
<screen>
<userinput>gmake -C src/bin install</>
<userinput>gmake -C src/include install</>
<userinput>gmake -C src/interfaces install</>
<userinput>gmake -C doc install</>
</screen>
    </para>
   </formalpara>
  </step>
  </procedure>

  <formalpara>
   <title>Registro de eventos no Windows:</title>
   <para>
    No <systemitem class="osname">Windows</>, deve ser executado o seguinte
    comando, após a instalação, para registrar a biblioteca que envia
    mensagens para o <literal>EventLog</literal>:
<screen>
<userinput>regsvr32 <replaceable>pgsql_library_directory</>/pgevent.dll</>
</screen>
    Esta biblioteca cria as entradas no registro de eventos vistas através do
    visualizador de eventos.
   </para>
  </formalpara>

  <formalpara>
   <title>Desinstalação:</title>
   <para>
    Para desfazer a instalação deve ser usado o comando
    <command>gmake uninstall</command>. Entretanto, não serão removidos os
    diretórios criados.
   </para>
  </formalpara>

  <formalpara>
   <title>Limpeza:</title>

   <para>
    Após a instalação, pode ser liberado espaço removendo da árvore de fontes
    os arquivos construídos, usando o comando <command>gmake clean</command>.
    São mantidos os arquivos produzidos pelo programa <command>configure</> e,
    portanto, tudo pode ser reconstruído posteriormente pelo <command>gmake</>.
    Para retornar a árvore de fontes ao estado em que foi distribuída, deve ser
    executado <command>gmake distclean</command>.
    Para se fazer construções para várias plataformas a partir da mesma
    árvore de fontes, deve ser executado <command>gmake distclean</command>
    e feita uma reconfiguração para cada construção (Como alternativa, pode ser
    usada uma árvore de construção separada para cada plataforma, de forma que
    a árvore de fontes permaneça sem modificações).
   </para>
  </formalpara>

  <para>
   Se for feita uma construção e depois descoberto que as opções do
   <command>configure</command> estavam erradas, ou se for modificado algo
   que o <command>configure</command> investiga (por exemplo, atualizações
   de software), então é uma boa idéia executar <command>gmake distclean</>
   antes de reconfigurar e reconstruir. Se isto não for feito, as modificações
   feitas nas escolhas de configuração podem não se propagar para todos os
   lugares onde há necessidade.
  </para>
 </sect1>

 <sect1 id="install-post">
  <title>Configurações de pós-instalação</title>

  <sect2>
   <title>Bibliotecas compartilhadas</title>

   <indexterm>
    <primary>biblioteca compartilhada</primary>
   </indexterm>

   <para>
    Em alguns sistemas que possuem bibliotecas compartilhadas (o que a maioria
    tem) é necessário informar ao sistema como encontrar as bibliotecas
    compartilhadas recém instaladas. Os sistemas onde <emphasis>não</emphasis>
    há necessidade incluem <systemitem class="osname">BSD/OS</systemitem>,
    <systemitem class="osname">FreeBSD</systemitem>,
    <systemitem class="osname">HP-UX</systemitem>,
    <systemitem class="osname">IRIX</systemitem>,
    <systemitem class="osname">Linux</systemitem>,
    <systemitem class="osname">NetBSD</systemitem>,
    <systemitem class="osname">OpenBSD</systemitem>,
    <systemitem class="osname">Tru64 UNIX</systemitem> (antigo
    <systemitem class="osname">Digital UNIX</systemitem>) e
    <systemitem class="osname">Solaris</systemitem>.
   </para>

   <para>
    O método para definir o caminho de procura de biblioteca compartilhada varia
    entre plataformas, mas o método mais amplamente utilizado é definir a
    variável de ambiente <envar>LD_LIBRARY_PATH</envar> da seguinte forma:
    Nos interpretadores de comando <literal>Bourne</literal>
    (<command>sh</>, <command>ksh</>, <command>bash</>, <command>zsh</>)
<programlisting>
LD_LIBRARY_PATH=/usr/local/pgsql/lib
export LD_LIBRARY_PATH
</programlisting>
    ou em <command>csh</> e <command>tcsh</>
<programlisting>
setenv LD_LIBRARY_PATH /usr/local/pgsql/lib
</programlisting>
    Deve ser substituído <literal>/usr/local/pgsql/lib</literal> pelo que foi
    definido para <option><literal>--libdir</literal></option> no
    <xref linkend="configure">. Estes comandos devem ser colocados no arquivo de
    inicialização do interpretador de comandos, como <filename>/etc/profile</>
    ou <filename>~/.bash_profile</filename>. Podem ser encontradas algumas boas
    informações sobre problemas associados a este método em
    <ulink url="http://www.visi.com/~barr/ldpath.html"></ulink>.
   </para>

   <para>
    Em alguns sistemas pode ser preferível definir a variável de
    ambiente <envar>LD_RUN_PATH</envar> <emphasis>antes</emphasis>
    da construção.
   </para>

   <para>
    No <systemitem class="osname">Cygwin</systemitem> o diretório da
    biblioteca deve ser colocado no <envar>PATH</envar>, ou mover os
    arquivos <filename>.dll</filename> para o diretório <filename>bin</>.
   </para>

   <para>
    Em caso de dúvida, deve ser consultada as páginas do manual do sistema
    operacional (talvez <command>ld.so</command>
    <footnote>
     <para>
      <literal>ld.so</literal> &mdash; ligador em tempo de execução
      (<literal>run-time linker</literal>) para objetos dinâmicos.
      <ulink url="http://mirrors.ccs.neu.edu/cgi-bin/unixhelp/man-cgi?ld.so.1+1">
      Página do Manual</ulink> (N. do T.)
     </para>
    </footnote>
    ou <command>rld</command>
    <footnote>
     <para>
      <literal>rld</literal> &mdash; ligador em tempo de execução
      (<literal>run-time linker</literal>).
      <ulink url="http://www.mcsr.olemiss.edu/cgi-bin/man-cgi?rld+1">
      Página do Manual</ulink> (N. do T.)
     </para>
    </footnote>
    ). Se posteriormente for recebida uma mensagem como
<screen>
<computeroutput>
psql: error in loading shared libraries
libpq.so.2.1: cannot open shared object file: No such file or directory
</computeroutput>
</screen>
    então este passo era necessário. Simplesmente cuide de fazê-lo.
   </para>

   <para>
    <indexterm>
     <primary>ldconfig</primary>
    </indexterm>
    <indexterm><primary>ldconfig</primary></indexterm>
    Se estiver sendo utilizado o <systemitem class="osname">BSD/OS</systemitem>,
    <systemitem class="osname">Linux</systemitem> ou
    <systemitem class="osname">SunOS 4</systemitem>,
    e se possuir acesso como <literal>root</literal> pode ser executado
<programlisting>
/sbin/ldconfig /usr/local/pgsql/lib
</programlisting>
    (ou um diretório equivalente) após a instalação, para fazer com que o
    ligador em tempo de execução encontre as bibliotecas compartilhadas mais
    rapidamente. Para obter informações adicionais sobre <command>ldconfig</>
    <footnote>
     <para>
      <literal>ldconfig</literal> &mdash; determina os vínculos de ligação em tempo de execução.
      <ulink url="http://www.rt.com/man/ldconfig.8.html">
      Página do Manual</ulink> (N. do T.)
     </para>
    </footnote>
    deve ser consultada a página do manual. No
    <systemitem class="osname">FreeBSD</systemitem>,
    <systemitem class="osname">NetBSD</systemitem> e
    <systemitem class="osname">OpenBSD</systemitem> o comando é
<programlisting>
/sbin/ldconfig -m /usr/local/pgsql/lib
</programlisting>
    em vez do mostrado anteriormente.
    Desconhecemos comando equivalente em outros sistemas.
   </para>
  </sect2>

  <sect2>
   <title>Variáveis de Ambiente</title>

   <indexterm>
    <primary><envar>PATH</envar></primary>
   </indexterm>

   <para>
    Se a instalação for feita em <filename>/usr/local/pgsql</filename>, ou em
    algum outro local onde não seja feita por padrão a procura por programas,
    deve ser adicionado à variável de ambiente <envar>PATH</envar> o diretório
    <filename>/usr/local/pgsql/bin</> (ou o que foi definido para
    <option><literal>--bindir</literal></option> no <xref linkend="configure">).
    A rigor isto não é necessário, mas torna a utilização do
    <productname>PostgreSQL</productname> muito mais confortável.
   </para>

   <para>
    Para fazer isto, deve ser adicionado ao arquivo de inicialização
    do interpretador de comandos, como <filename>~/.bash_profile</filename>
    (ou <filename>/etc/profile</filename>, se for para todos os usuários):
<programlisting>
PATH=/usr/local/pgsql/bin:$PATH
export PATH
</programlisting>
    Se estiver sendo utilizado <command>csh</command> ou
    <command>tcsh</command>, então deve ser utilizado o comando:
<programlisting>
set path = ( /usr/local/pgsql/bin $path )
</programlisting>
   </para>

   <para>
    <indexterm>
     <primary><envar>MANPATH</envar></primary>
    </indexterm>
    <indexterm><primary><envar>MANPATH</envar></primary></indexterm>
    Para permitir o sistema encontrar a documentação <application>man</>,
    é necessário adicionar linhas como as mostradas abaixo ao arquivo de
    inicialização do interpretador de comandos, a menos que seja instalado em
    um local procurado por padrão.
<programlisting>
MANPATH=/usr/local/pgsql/man:$MANPATH
export MANPATH
</programlisting>
   </para>

   <para>
    As variáveis de ambiente <envar>PGHOST</envar> e <envar>PGPORT</envar>
    especificam, para os aplicativos cliente, o hospedeiro e a porta do servidor
    de banco de dados, prevalecendo sobre os padrões de compilação. Se forem
    executadas aplicativos cliente remotamente, então é conveniente que todo
    usuário com intenção de utilizar o banco de dados defina <envar>PGHOST</>.
    Entretanto, não é obrigatório: as definições podem ser comunicadas através
    das opções de linha de comando para a maioria dos programas cliente.
   </para>
  </sect2>
 </sect1>

<![%standalone-include;[
 <sect1 id="install-getting-started">
  <title>Getting Started</title>

  <para>
   The following is a quick summary of how to get <productname>PostgreSQL</> up and
   running once installed. The main documentation contains more information.
  </para>

  <procedure>
   <step>
    <para>
     Create a user account for the <productname>PostgreSQL</>
     server. This is the user the server will run as. For production
     use you should create a separate, unprivileged account
     (<quote>postgres</> is commonly used). If you do not have root
     access or just want to play around, your own user account is
     enough, but running the server as root is a security risk and
     will not work.
<screen>
<userinput>adduser postgres</>
</screen>
    </para>
   </step>

   <step>
    <para>
     Create a database installation with the <command>initdb</>
     command. To run <command>initdb</> you must be logged in to your
     <productname>PostgreSQL</> server account. It will not work as
     root.
<screen>
root# <userinput>mkdir /usr/local/pgsql/data</>
root# <userinput>chown postgres /usr/local/pgsql/data</>
root# <userinput>su - postgres</>
postgres$ <userinput>/usr/local/pgsql/bin/initdb -D /usr/local/pgsql/data</>
</screen>
    </para>

    <para>
     The <option>-D</> option specifies the location where the data
     will be stored. You can use any path you want, it does not have
     to be under the installation directory. Just make sure that the
     server account can write to the directory (or create it, if it
     doesn't already exist) before starting <command>initdb</>, as
     illustrated here.
    </para>
   </step>

   <step>
    <para>
     The previous step should have told you how to start up the
     database server. Do so now. The command should look something
     like
<programlisting>
/usr/local/pgsql/bin/postmaster -D /usr/local/pgsql/data
</programlisting>
     This will start the server in the foreground. To put the server
     in the background use something like
<programlisting>
nohup /usr/local/pgsql/bin/postmaster -D /usr/local/pgsql/data \
    &lt;/dev/null &gt;&gt;server.log 2&gt;&amp;1 &lt;/dev/null &amp;
</programlisting>
    </para>

    <para>
     To stop a server running in the background you can type
<programlisting>
kill `cat /usr/local/pgsql/data/postmaster.pid`
</programlisting>
    </para>

    <para>
     In order to allow TCP/IP connections (rather than only Unix
     domain socket ones) you need to pass the <option>-i</> option to
     <filename>postmaster</>.
    </para>
   </step>

   <step>
    <para>
     Create a database:
<screen>
<userinput>createdb testdb</>
</screen>
     Then enter
<screen>
<userinput>psql testdb</>
</screen>
     to connect to that database. At the prompt you can enter SQL
     commands and start experimenting.
    </para>
   </step>
  </procedure>
 </sect1>

 <sect1 id="install-whatnow">
  <title>What Now?</title>

  <para>
   <itemizedlist>
    <listitem>
     <para>
      The <productname>PostgreSQL</> distribution contains a
      comprehensive documentation set, which you should read sometime.
      After installation, the documentation can be accessed by
      pointing your browser to
      <filename>/usr/local/pgsql/doc/html/index.html</>, unless you
      changed the installation directories.
     </para>

     <para>
      The first few chapters of the main documentation are the Tutorial,
      which should be your first reading if you are completely new to
      <acronym>SQL</> databases.  If you are familiar with database
      concepts then you want to proceed with part on server
      administration, which contains information about how to set up
      the database server, database users, and authentication.
     </para>
    </listitem>

    <listitem>
     <para>
      Usually, you will want to modify your computer so that it will
      automatically start the database server whenever it boots. Some
      suggestions for this are in the documentation.
     </para>
    </listitem>

    <listitem>
     <para>
      Run the regression tests against the installed server (using
      <command>gmake installcheck</command>). If you didn't run the
      tests before installation, you should definitely do it now. This
      is also explained in the documentation.
     </para>
    </listitem>

    <listitem>
     <para>
      By default, <productname>PostgreSQL</> is configured to run on
      minimal hardware.  This allows it to start up with almost any
      hardware configuration. The default configuration is, however,
      not designed for optimum performance. To achieve optimum
      performance, several server parameters must be adjusted, the two
      most common being <varname>shared_buffers</varname> and
      <varname>work_mem</varname>.
      Other parameters mentioned in the documentation also affect
      performance.
     </para>
    </listitem>
   </itemizedlist>
  </para>
 </sect1>
]]>


 <sect1 id="supported-platforms">
  <title>Plataformas suportadas</title>

  <para>
   A comunidade de desenvolvedores verificou o funcionamento do
   <productname>PostgreSQL</productname> nas plataformas listadas abaixo.
   Uma plataforma suportada significa, geralmente, que o
   <productname>PostgreSQL</productname> pode ser construído e instalado de
   acordo com estas instruções e que passa nos testes de regressão.
   As entradas <quote>Fazenda de construção</quote> (<literal>Build farm</>)
   se referem às construções relatadas em
   <ulink url="http://www.pgbuildfarm.org/">PostgreSQL Build Farm</ulink>.
   As entradas de plataforma que mostram versões antigas do PostgreSQL
   são as que não receberam testes explícitos até o momento da liberação da
   versão &majorversion;, mas que ainda se espera que funcionem.
  </para>

  <note>
   <para>
    Em caso de problemas de instalação em uma plataforma suportada,
    por favor escreva para <email>pgsql-bugs@postgresql.org</email>
    ou para <email>pgsql-ports@postgresql.org</email>, e não para as
    pessoas que aqui aparecem.
   </para>
  </note>

    <informaltable>
     <tgroup cols="5">
      <thead>
       <row>
        <entry><acronym>S.O.</acronym></entry>
        <entry>Processador</entry>
        <entry>Versão</entry>
        <entry>Relatado</entry>
        <entry>Comentários</entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry><systemitem class="osname">AIX</></entry>
        <entry><systemitem>PowerPC</></entry>
        <entry>8.0.0</entry>
        <entry>Travis P (<email>twp@castle.fastmail.fm</email>), 2004-12-12</entry>
        <entry>consulte também <filename>doc/FAQ_AIX</filename></entry>
       </row>
       <row>
        <entry><systemitem class="osname">AIX</></entry>
        <entry><systemitem>RS6000</></entry>
        <entry>8.0.0</entry>
        <entry>Hans-J&uuml;rgen Sch&ouml;nig (<email>hs@cybertec.at</email>), 2004-12-06</entry>
        <entry>consulte também <filename>doc/FAQ_AIX</filename></entry>
       </row>
       <row>
        <entry><systemitem class="osname">BSD/OS</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Bruce Momjian (<email>pgman@candle.pha.pa.us</email>), 2004-12-07</entry>
        <entry>4.3.1</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>Alpha</></entry>
        <entry>7.4</entry>
        <entry>No&egrave;l K&ouml;the (<email>noel@debian.org</email>), 2003-10-25</entry>
        <entry></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>AMD64</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">panda</systemitem>, instantâneo 2004-12-06 01:20:02</entry>
        <entry>sid, kernel 2.6</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>ARM</></entry>
        <entry>8.0.0</entry>
        <entry>Jim Buttafuoco (<email>jim@contactbda.com</email>), 2005-01-06</entry>
        <entry></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>IA64</></entry>
        <entry>7.4</entry>
        <entry>No&egrave;l K&ouml;the (<email>noel@debian.org</email>), 2003-10-25</entry>
        <entry></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>m68k</></entry>
        <entry>8.0.0</entry>
        <entry>No&egrave;l K&ouml;the (<email>noel@debian.org</email>), 2004-12-09</entry>
        <entry>sid</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>MIPS</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">lionfish</systemitem>, instantâneo 2004-12-06 11:00:08</entry>
        <entry>3.1 (sarge), kernel 2.4</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>PA-RISC</></entry>
        <entry>8.0.0</entry>
        <entry>No&egrave;l K&ouml;the (<email>noel@debian.org</email>), 2004-12-07</entry>
        <entry>sid</entry>
     </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>PowerPC</></entry>
        <entry>8.0.0</entry>
        <entry>No&egrave;l K&ouml;the (<email>noel@debian.org</email>), 2004-12-15</entry>
        <entry>sid</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>S/390</></entry>
        <entry>7.4</entry>
        <entry>No&egrave;l K&ouml;the (<email>noel@debian.org</email>), 2003-10-25</entry>
        <entry></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>Sparc</></entry>
        <entry>8.0.0</entry>
        <entry>No&egrave;l K&ouml;the (<email>noel@debian.org</email>), 2004-12-09</entry>
        <entry>sid, 32-bit</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Debian GNU/Linux</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Peter Eisentraut (<email>peter_e@gmx.net</email>), 2004-12-06</entry>
        <entry>3.1 (sarge), kernel 2.6</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Fedora</></entry>
        <entry><systemitem>AMD64</></entry>
        <entry>8.0.0</entry>
        <entry>John Gray (<email>jgray@azuli.co.uk</email>), 2004-12-12</entry>
        <entry>FC3</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Fedora</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">dog</systemitem>, instantâneo 2004-12-06 02:06:01</entry>
        <entry>FC1</entry>
       </row>
       <row>
        <entry><systemitem class="osname">FreeBSD</></entry>
        <entry><systemitem>Alpha</></entry>
        <entry>7.4</entry>
        <entry>Peter Eisentraut (<email>peter_e@gmx.net</email>), 2003-10-25</entry>
        <entry>4.8</entry>
       </row>
       <row>
        <entry><systemitem class="osname">FreeBSD</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">cockatoo</systemitem>, instantâneo 2004-12-06 14:10:01 (4.10);
         Marc Fournier (<email>scrappy@postgresql.org</email>), 2004-12-07 (5.3)</entry>
        <entry></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Gentoo Linux</></entry>
        <entry><systemitem>AMD64</></entry>
        <entry>8.0.0</entry>
        <entry>Jani Averbach (<email>jaa@jaa.iki.fi</email>), 2005-01-13</entry>
        <entry></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Gentoo Linux</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Paul Bort (<email>pbort@tmwsystems.com</email>), 2004-12-07</entry>
        <entry></entry>
       </row>
       <row>
        <entry><systemitem class="osname">HP-UX</></entry>
        <entry><systemitem>IA64</></entry>
        <entry>8.0.0</entry>
        <entry>Tom Lane (<email>tgl@sss.pgh.pa.us</email>), 2005-01-06</entry>
        <entry>11.23, <command>gcc</> and <command>cc</>; consulte também <filename>doc/FAQ_HPUX</filename></entry>
       </row>
       <row>
        <entry><systemitem class="osname">HP-UX</></entry>
        <entry><systemitem>PA-RISC</></entry>
        <entry>8.0.0</entry>
        <entry>Tom Lane (<email>tgl@sss.pgh.pa.us</email>), 2005-01-06</entry>
        <entry>10.20 and 11.11, <command>gcc</> and <command>cc</>; consulte também <filename>doc/FAQ_HPUX</filename></entry>
       </row>
       <row>
        <entry><systemitem class="osname">IRIX</></entry>
        <entry><systemitem>MIPS</></entry>
        <entry>7.4</entry>
        <entry>Robert E. Bruccoleri (<email>bruc@stone.congenomics.com</email>), 2003-11-12</entry>
        <entry>6.5.20, somente <command>cc</command></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Mac OS X</></entry>
        <entry><systemitem>PowerPC</></entry>
        <entry>8.0.0</entry>
        <entry>Andrew Rawnsley (<email>ronz@ravensfield.com</email>), 2004-12-07</entry>
        <entry>10.3.5</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Mandrakelinux</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">shrew</systemitem>, instantâneo 2004-12-06 02:02:01</entry>
        <entry>10.0</entry>
       </row>
       <row>
        <entry><systemitem class="osname">NetBSD</></entry>
        <entry><systemitem>arm32</></entry>
        <entry>7.4</entry>
        <entry>Patrick Welche (<email>prlw1@newn.cam.ac.uk</email>), 2003-11-12</entry>
        <entry>1.6ZE/acorn32</entry>
       </row>
       <row>
        <entry><systemitem class="osname">NetBSD</></entry>
        <entry><systemitem>m68k</></entry>
        <entry>8.0.0</entry>
        <entry>R&eacute;mi Zara (<email>remi_zara@mac.com</email>), 2004-12-14</entry>
        <entry>2.0</entry>
       </row>
       <row>
        <entry><systemitem class="osname">NetBSD</></entry>
        <entry><systemitem>Sparc</></entry>
        <entry>7.4.1</entry>
        <entry>Peter Eisentraut (<email>peter_e@gmx.net</email>), 2003-11-26</entry>
        <entry>1.6.1, 32-bit</entry>
       </row>
       <row>
        <entry><systemitem class="osname">NetBSD</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">canary</systemitem>, instantâneo 2004-12-06 03:30:00</entry>
        <entry>1.6</entry>
       </row>
       <row>
        <entry><systemitem class="osname">OpenBSD</></entry>
        <entry><systemitem>Sparc</></entry>
        <entry>8.0.0</entry>
        <entry>Chris Mair (<email>list@1006.org</email>), 2005-01-10</entry>
        <entry>3.3</entry>
       </row>
       <row>
        <entry><systemitem class="osname">OpenBSD</></entry>
        <entry><systemitem>Sparc64</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">spoonbill</systemitem>, instantâneo 2005-01-06 00:50:05</entry>
        <entry>3.6</entry>
       </row>
       <row>
        <entry><systemitem class="osname">OpenBSD</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">emu</systemitem>, instantâneo 2004-12-06 11:35:03</entry>
        <entry>3.6</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Red Hat Linux</></entry>
        <entry><systemitem>AMD64</></entry>
        <entry>8.0.0</entry>
        <entry>Tom Lane (<email>tgl@sss.pgh.pa.us</email>), 2004-12-07</entry>
        <entry>RHEL 3AS</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Red Hat Linux</></entry>
        <entry><systemitem>IA64</></entry>
        <entry>8.0.0</entry>
        <entry>Tom Lane (<email>tgl@sss.pgh.pa.us</email>), 2004-12-07</entry>
        <entry>RHEL 3AS</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Red Hat Linux</></entry>
        <entry><systemitem>PowerPC</></entry>
        <entry>8.0.0</entry>
        <entry>Tom Lane (<email>tgl@sss.pgh.pa.us</email>), 2004-12-07</entry>
        <entry>RHEL 3AS</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Red Hat Linux</></entry>
        <entry><systemitem>PowerPC 64</></entry>
        <entry>8.0.0</entry>
        <entry>Tom Lane (<email>tgl@sss.pgh.pa.us</email>), 2004-12-07</entry>
        <entry>RHEL 3AS</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Red Hat Linux</></entry>
        <entry><systemitem>S/390</></entry>
        <entry>8.0.0</entry>
        <entry>Tom Lane (<email>tgl@sss.pgh.pa.us</email>), 2004-12-07</entry>
        <entry>RHEL 3AS</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Red Hat Linux</></entry>
        <entry><systemitem>S/390x</></entry>
        <entry>8.0.0</entry>
        <entry>Tom Lane (<email>tgl@sss.pgh.pa.us</email>), 2004-12-07</entry>
        <entry>RHEL 3AS</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Red Hat Linux</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Tom Lane (<email>tgl@sss.pgh.pa.us</email>), 2004-12-07</entry>
        <entry>RHEL 3AS</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Solaris</></entry>
        <entry><systemitem>Sparc</></entry>
        <entry>8.0.0</entry>
        <entry>Kenneth Marshall (<email>ktm@is.rice.edu</email>), 2004-12-07</entry>
        <entry>Solaris 8; consulte também <filename>doc/FAQ_Solaris</filename></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Solaris</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">kudu</systemitem>, instantâneo 2004-12-10 02:30:04 (<command>cc</command>);
          <systemitem class="systemname">dragonfly</systemitem>, snapshot 2004-12-09 04:30:00 (<command>gcc</command>)</entry>
        <entry>Solaris 9; consulte também <filename>doc/FAQ_Solaris</filename></entry>
       </row>
       <row>
        <entry><systemitem class="osname">SUSE Linux</></entry>
        <entry><systemitem>AMD64</></entry>
        <entry>8.0.0</entry>
        <entry>Reinhard Max (<email>max@suse.de</email>), 2005-01-03</entry>
        <entry>9.0, 9.1, 9.2, SLES 9</entry>
       </row>
       <row>
        <entry><systemitem class="osname">SUSE Linux</></entry>
        <entry><systemitem>IA64</></entry>
        <entry>8.0.0</entry>
        <entry>Reinhard Max (<email>max@suse.de</email>), 2005-01-03</entry>
        <entry>SLES 9</entry>
       </row>
       <row>
        <entry><systemitem class="osname">SUSE Linux</></entry>
        <entry><systemitem>PowerPC</></entry>
        <entry>8.0.0</entry>
        <entry>Reinhard Max (<email>max@suse.de</email>), 2005-01-03</entry>
        <entry>SLES 9</entry>
       </row>
       <row>
        <entry><systemitem class="osname">SUSE Linux</></entry>
        <entry><systemitem>PowerPC 64</></entry>
        <entry>8.0.0</entry>
        <entry>Reinhard Max (<email>max@suse.de</email>), 2005-01-03</entry>
        <entry>SLES 9</entry>
       </row>
       <row>
        <entry><systemitem class="osname">SUSE Linux</></entry>
        <entry><systemitem>S/390</></entry>
        <entry>8.0.0</entry>
        <entry>Reinhard Max (<email>max@suse.de</email>), 2005-01-03</entry>
        <entry>SLES 9</entry>
       </row>
       <row>
        <entry><systemitem class="osname">SUSE Linux</></entry>
        <entry><systemitem>S/390x</></entry>
        <entry>8.0.0</entry>
        <entry>Reinhard Max (<email>max@suse.de</email>), 2005-01-03</entry>
        <entry>SLES 9</entry>
       </row>
       <row>
        <entry><systemitem class="osname">SUSE Linux</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Reinhard Max (<email>max@suse.de</email>), 2005-01-03</entry>
        <entry>9.0, 9.1, 9.2, SLES 9</entry>
       </row>
       <row>
        <entry><systemitem class="osname">Tru64 UNIX</></entry>
        <entry><systemitem>Alpha</></entry>
        <entry>8.0.0</entry>
        <entry>Honda Shigehiro (<email>fwif0083@mb.infoweb.ne.jp</email>), 2005-01-07</entry>
        <entry>5.0</entry>
       </row>
       <row>
        <entry><systemitem class="osname">UnixWare</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Peter Eisentraut (<email>peter_e@gmx.net</email>), 2004-12-14</entry>
        <entry><command>cc</command>, 7.1.4; consulte também <filename>doc/FAQ_SCO</filename></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Windows</></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Dave Page (<email>dpage@vale-housing.co.uk</email>), 2004-12-07</entry>
        <entry>XP Pro; consulte <filename>doc/FAQ_MINGW</filename></entry>
       </row>
       <row>
        <entry><systemitem class="osname">Windows with <application>Cygwin</application></></entry>
        <entry><systemitem>x86</></entry>
        <entry>8.0.0</entry>
        <entry>Fazenda de construção <systemitem class="systemname">gibbon</systemitem>, instantâneo 2004-12-11 01:33:01</entry>
        <entry>consulte <filename>doc/FAQ_CYGWIN</filename></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>

  <formalpara>
   <title>Plataformas não suportadas:</title>
   <para>
    Nas seguintes plataformas ou se sabe que não funciona, ou que funcionava
    em uma versão anterior muito remota. São incluídas para que se saiba que
    estas plataformas <emphasis>podem</emphasis> ser suportadas se for dada
    alguma atenção.
   </para>
  </formalpara>

  <informaltable>
   <tgroup cols="5">
    <thead>
     <row>
      <entry><acronym>S.O.</acronym></entry>
      <entry>Processador</entry>
      <entry>Versão</entry>
      <entry>Relatado</entry>
      <entry>Comentários</entry>
     </row>
    </thead>

    <tbody>
     <row>
      <entry><systemitem class="osname">BeOS</></entry>
      <entry><systemitem>x86</></entry>
      <entry>7.2</entry>
      <entry>Cyril Velter (<email>cyril.velter@libertysurf.fr</email>), 2001-11-29</entry>
      <entry>necessita atualização para o código de semáforo</entry>
     </row>
     <row>
      <entry><systemitem class="osname">Linux</></entry>
      <entry><systemitem>PlayStation 2</></entry>
      <entry>8.0.0</entry>
      <entry>Chris Mair (<email>list@1006.org</email>), 2005-01-09</entry>
      <entry>requer <option>--disable-spinlocks</option> (funciona, mas lentamente)</entry>
     </row>
     <row>
      <entry><systemitem class="osname">NetBSD</></entry>
      <entry><systemitem>Alpha</></entry>
      <entry>7.2</entry>
      <entry>Thomas Thai (<email>tom@minnesota.com</email>), 2001-11-20</entry>
      <entry>1.5W</entry>
     </row>
     <row>
      <entry><systemitem class="osname">NetBSD</></entry>
      <entry><systemitem>MIPS</></entry>
      <entry>7.2.1</entry>
      <entry>Warwick Hunter (<email>whunter@agile.tv</email>), 2002-06-13</entry>
      <entry>1.5.3</entry>
     </row>
     <row>
      <entry><systemitem class="osname">NetBSD</></entry>
      <entry><systemitem>PowerPC</></entry>
      <entry>7.2</entry>
      <entry>Bill Studenmund (<email>wrstuden@netbsd.org</email>), 2001-11-28</entry>
      <entry>1.5</entry>
     </row>
     <row>
      <entry><systemitem class="osname">NetBSD</></entry>
      <entry><systemitem>VAX</></entry>
      <entry>7.1</entry>
      <entry>Tom I. Helbekkmo (<email>tih@kpnQwest.no</email>), 2001-03-30</entry>
      <entry>1.5</entry>
     </row>
     <row>
      <entry><systemitem class="osname">QNX 4 RTOS</></entry>
      <entry><systemitem>x86</></entry>
      <entry>7.2</entry>
      <entry>Bernd Tegge (<email>tegge@repas-aeg.de</email>), 2001-12-10
      </entry>
      <entry>necessita atualização para o código de semáforo;
       consulte também <filename>doc/FAQ_QNX4</filename></entry>
     </row>
     <row>
      <entry><systemitem class="osname">QNX RTOS v6</></entry>
      <entry><systemitem>x86</></entry>
      <entry>7.2</entry>
      <entry>Igor Kovalenko (<email>Igor.Kovalenko@motorola.com</email>), 2001-11-20</entry>
      <entry>correções disponíveis em arquivos, mas muito tarde para a 7.2</entry>
     </row>
     <row>
      <entry><systemitem class="osname">SCO OpenServer</></entry>
      <entry><systemitem>x86</></entry>
      <entry>7.3.1</entry>
      <entry>Shibashish Satpathy (<email>shib@postmark.net</>), 2002-12-11</entry>
      <entry>5.0.4, <command>gcc</>;  consulte também <filename>doc/FAQ_SCO</filename></entry>
     </row>
     <row>
      <entry><systemitem class="osname">SunOS 4</></entry>
      <entry><systemitem>Sparc</></entry>
      <entry>7.2</entry>
      <entry>Tatsuo Ishii (<email>t-ishii@sra.co.jp</email>), 2001-12-04</entry>
      <entry></entry>
     </row>
    </tbody>
   </tgroup>
  </informaltable>
 </sect1>

  <sect1 id="install-short-fc3">

   <sect1info>
    <author>
     <firstname>Halley</firstname>
     <surname>Pacheco de Oliveira</surname>
     <affiliation>
      <orgname>Câmara Municipal do Rio de Janeiro</orgname>
      <orgdiv>Assessoria de Informática</orgdiv>
      <address>
       <city>Rio de Janeiro</city>
       <country>Brasil</country>
      </address>
     </affiliation>
    </author>
    <date>2005-08-22</date>
   </sect1info>

   <title>Instalação no Fedora Core 3</title>
   <note>
    <para>
     Seção escrita pelo tradutor, não fazendo parte do manual original.
    </para>
   </note>
   <para>
    Esta seção mostra como instalar o <productname>PostgreSQL 8.0</productname>
    no <productname>Fedora Core 3</productname>, a partir do arquivo
    <filename>postgresql-8.0.0.tar.gz</filename> baixado no diretório
    <filename>/download</filename>, através do usuário <literal>root</literal>.
   </para>

   <para>
<screen>
<prompt># </prompt><userinput>cd /tmp</userinput>
<prompt># </prompt><userinput>tar xzvf /download/postgresql-8.0.0.tar.gz</userinput>
<prompt># </prompt><userinput>cd postgresql-8.0.0/</userinput>
<prompt># </prompt><userinput>./configure --enable-nls</userinput>
<prompt># </prompt><userinput>make</userinput>
<computeroutput>
All of PostgreSQL successfully made. Ready to install.
</computeroutput>
<prompt># </prompt><userinput>make install</userinput>
<computeroutput>
PostgreSQL installation complete.
</computeroutput>
<prompt># </prompt><userinput># Criar o usuário postgres</userinput>
<prompt># </prompt><userinput>adduser postgres</userinput>
<prompt># </prompt><userinput># Criar o diretório de dados</userinput>
<prompt># </prompt><userinput>mkdir /usr/local/pgsql/data</userinput>
<prompt># </prompt><userinput># Tornar o usuário postgres o dono do diretório de dados</userinput>
<prompt># </prompt><userinput>chown postgres:postgres /usr/local/pgsql/data</userinput>
<prompt># </prompt><userinput># Se tornar o usuário postgres</userinput>
<prompt># </prompt><userinput>su - postgres</userinput>
<prompt># </prompt><userinput># Inicializar a área de dados</userinput>
<prompt>$ </prompt><userinput>/usr/local/pgsql/bin/initdb -D /usr/local/pgsql/data</userinput>
<computeroutput>
WARNING: enabling "trust" authentication for local connections
You can change this by editing pg_hba.conf or using the -A option the
next time you run initdb.
Success. You can now start the database server using:
    /usr/local/pgsql/bin/postmaster -D /usr/local/pgsql/data
or
    /usr/local/pgsql/bin/pg_ctl -D /usr/local/pgsql/data -l logfile start
</computeroutput>
<prompt># </prompt><userinput># Ativar o servidor PostgreSQL</userinput>
<prompt>$ </prompt><userinput>/usr/local/pgsql/bin/postmaster -D /usr/local/pgsql/data &gt;logfile 2&gt;&amp;1 &amp;</userinput>
<prompt># </prompt><userinput># Criar o usuário teste com a senha teste</userinput>
<prompt>$ </prompt><userinput>/usr/local/pgsql/bin/createuser teste --pwprompt</userinput>
<computeroutput>
Forneça a senha do novo usuário:
Forneça novamente:
Será permitido ao novo usuário criar bancos de dados? (s/n) n
Será permitido ao novo usuário criar outros usuários? (s/n) n
CREATE USER
</computeroutput>
<prompt># </prompt><userinput># Criar o banco de dados teste tendo por dono o usuário teste</userinput>
<prompt>$ </prompt><userinput>/usr/local/pgsql/bin/createdb teste --owner teste</userinput>
<computeroutput>
CREATE DATABASE
</computeroutput>
<prompt># </prompt><userinput># Usar o psql para acessar o banco de dados teste</userinput>
<prompt>$ </prompt><userinput>/usr/local/pgsql/bin/psql -U teste teste</userinput>
<computeroutput>
Bem-vindo ao psql &version;, o terminal interativo do PostgreSQL.

Digite:  \copyright para mostrar a licença da distribuição
         \h para ajuda nos comandos SQL
         \? para ajuda nos comandos do psql
         \g ou finalizar com ponto-e-vírgula para executar o comando
         \q para sair
</computeroutput>

<prompt>teste=&gt; </prompt><userinput>\l</userinput>

<computeroutput>
     Lista dos bancos de dados
   Nome    |   Dono   | Codificação
-----------+----------+-------------
 template0 | postgres | LATIN1
 template1 | postgres | LATIN1
 teste     | teste    | LATIN1
(3 linhas)
</computeroutput>

<prompt>teste=&gt; </prompt><userinput>\q</userinput>
<prompt># </prompt><userinput># Definir o caminho de procura das bibliotecas</userinput>
<prompt># </prompt><userinput>LD_LIBRARY_PATH=/usr/local/pgsql/lib/</userinput>
<prompt># </prompt><userinput>export LD_LIBRARY_PATH</userinput>
<prompt># </prompt><userinput># Definir o caminho de procura dos executáveis</userinput>
<prompt># </prompt><userinput>PATH=$PATH:/usr/local/pgsql/bin/:</userinput>
<prompt># </prompt><userinput>export PATH</userinput>
</screen>
   </para>

   <note>
    <para>
     Para ver as páginas do manual usando o comando <command>man</command> deve
     ser adicionada a linha <literal>MANPATH /usr/local/pgsql/man/</literal> ao
     arquivo <filename>/etc/man.config</filename>.
    </para>
   </note>

   <para>
    Abaixo está mostrado o script <filename>/etc/init.d/postgresql</filename>
    para efetuar as operações de ativar, parar, mostrar o status, reativar e
    recarregar o servidor <productname>PostgreSQL</productname>.
<programlisting>
#!/bin/sh
PGDATA=/usr/local/pgsql/data
PGBIN=/usr/local/pgsql/bin
PGLOG=/dev/null
start(){
        echo "Ativando o serviço PostgreSQL: "
        su -l postgres -c "$PGBIN/pg_ctl -D $PGDATA start >> $PGLOG"
}

stop(){
        echo -n $"Parando o serviço PostgreSQL: "
        su -l postgres -c "$PGBIN/pg_ctl -D $PGDATA stop"
}

status(){
        echo "Status do serviço PostgreSQL: "
        su -l postgres -c "$PGBIN/pg_ctl -D $PGDATA status"
}

restart(){
        echo "Reativando o serviço PostgreSQL: "
        su -l postgres -c "$PGBIN/pg_ctl -D $PGDATA restart"
}

reload(){
        echo "Recarregando o serviço PostgreSQL: "
        su -l postgres -c "$PGBIN/pg_ctl -D $PGDATA reload"
}
case "$1" in
  start)
        start
        ;;
  stop)
        stop
        ;;
  status)
        status
        ;;
  restart)
        restart
        ;;
  reload|force-reload)
        reload
        ;;
  *)
        echo $"Usage: $0 {start|stop|status|restart|reload|force-reload}"
        exit 1
esac

exit 0
</programlisting>
   </para>
  </sect1>

</chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode:sgml
sgml-omittag:nil
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-tabs-mode:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"./reference.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:("/usr/share/sgml/catalog")
sgml-local-ecat-files:nil
End:
-->
