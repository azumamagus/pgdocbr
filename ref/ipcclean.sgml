<!--
$PostgreSQL: pgsql/doc/src/sgml/ref/ipcclean.sgml,v 1.13 2006/09/16 00:30:18 momjian Exp $
PostgreSQL documentation
-->

<refentry id="APP-IPCCLEAN">
 <refmeta>
  <refentrytitle id="APP-IPCCLEAN-TITLE"><application>ipcclean</application></refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Aplicação</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>ipcclean</refname>
  <refpurpose>remove a memória compartilhada e os semáforos de um servidor <productname>PostgreSQL</productname> que caiu</refpurpose>
 </refnamediv>

 <indexterm zone="app-ipcclean">
  <primary>ipcclean</primary>
 </indexterm>

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>ipcclean</command>
  </cmdsynopsis>
 </refsynopsisdiv>

 <refsect1 id="R1-APP-IPCCLEAN-1">
  <title>Descrição</title>
  <para>
   O utilitário <command>ipcclean</command> remove todos os segmentos de memória
   compartilhada e os semáforos definidos, pertencentes ao usuário corrente.
   Sua finalidade é ser usado para fazer a limpeza após a queda
   do servidor <productname>PostgreSQL</productname> (<xref
   linkend="app-postgres">). Deve ser observador que reiniciar o servidor
   imediatamente também limpa a memória compartilhada e os semáforos e,
   portanto, este utilitário possui pouca utilidade prática.
  </para>

  <para>
   Somente o administrador do banco de dados deve executar este utilitário,
   porque pode ocasionar um comportamento bizarro (por exemplo, quedas) se
   for executado durante uma sessão multiusuária. Se este utilitário for
   executado enquanto o servidor estiver executando, a memória compartilhada
   e os semáforos alocados pelo servidor são removidos,
   podendo ocasionar conseqüências graves para o servidor.
  </para>
 </refsect1>

 <refsect1>
  <title>Observações</title>

  <para>
   Este script é um <quote>hack</quote>, mas nestes vários anos desde
   que foi escrito ninguém conseguiu desenvolver uma solução igualmente
   efetiva e portável. Como agora o <application>postgres</application>
   pode se autolimpar, não é provável que o <command>ipcclean</command>
   seja melhorado no futuro.
  </para>

  <para>
   Este script faz suposições em relação ao formato da saída do utilitário
   <application>ipcs</application>,
   que podem não ser verdadeiras entre sistemas operacionais diferentes.
   Portanto, pode ser que não funcione no seu sistema operacional.
   É aconselhável olhar o script antes de executá-lo.
  </para>
 </refsect1>

</refentry>
